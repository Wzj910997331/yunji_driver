
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>4. AXCL API &#8212; AXCL V1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=667c5ddb"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'doc_guide_axcl_api';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. AXCL 安装" href="doc_guide_setup.html" />
    <link rel="prev" title="3. AXCL 硬件信息" href="doc_guide_hardware.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">AXCL V1.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">目录</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="doc_update_info.html">1. 版本修改说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_introduction.html">2. AXCL 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_guide_hardware.html">3. AXCL 硬件信息</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">4. AXCL API</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_guide_setup.html">5. AXCL 安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_guide_quick_start.html">6. AXCL 快速上手</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_guide_samples.html">7. AXCL Samples 说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_guide_faq.html">8. AXCL FAQ</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/doc_guide_axcl_api.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>AXCL API</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.1. 概览</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#runtime-api">4.2. Runtime API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">4.2.1. Runtime API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclinit">4.2.1.1. <span class="xref myst">axclInit</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclfinailze">4.2.1.2. <span class="xref myst">axclFinailze</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetversion">4.2.1.3. <span class="xref myst">axclrtGetVersion</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetsocname">4.2.1.4. <span class="xref myst">axclrtGetSocName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtsetdevice">4.2.1.5. <span class="xref myst">axclrtSetDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtresetdevice">4.2.1.6. <span class="xref myst">axclrtResetDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdevice">4.2.1.7. <span class="xref myst">axclrtGetDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdevicecount">4.2.1.8. <span class="xref myst">axclrtGetDeviceCount</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdevicelist">4.2.1.9. <span class="xref myst">axclrtGetDeviceList</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtsynchronizedevice">4.2.1.10. <span class="xref myst">axclrtSynchronizeDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdeviceutilizationrate">4.2.1.11. <span class="xref myst">axclrtGetDeviceUtilizationRate</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtcreatecontext">4.2.1.12. <span class="xref myst">axclrtCreateContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtdestroycontext">4.2.1.13. <span class="xref myst">axclrtDestroyContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtsetcurrentcontext">4.2.1.14. <span class="xref myst">axclrtSetCurrentContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetcurrentcontext">4.2.1.15. <span class="xref myst">axclrtGetCurrentContext</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memory-api">4.2.2. Memory API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmalloc">4.2.2.1. <span class="xref myst">axclrtMalloc</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmalloccached">4.2.2.2. <span class="xref myst">axclrtMallocCached</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtfree">4.2.2.3. <span class="xref myst">axclrtFree</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemflush">4.2.2.4. <span class="xref myst">axclrtMemFlush</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmeminvalidate">4.2.2.5. <span class="xref myst">axclrtMemInvalidate</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmallochost">4.2.2.6. <span class="xref myst">axclrtMallocHost</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtfreehost">4.2.2.7. <span class="xref myst">axclrtFreeHost</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemset">4.2.2.8. <span class="xref myst">axclrtMemset</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemcpy">4.2.2.9. <span class="xref myst">axclrtMemcpy</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemcmp">4.2.2.10. <span class="xref myst">axclrtMemcmp</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#engine-api">4.2.3. Engine API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineinit">4.2.3.1. <span class="xref myst">axclrtEngineInit</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetvnpukind">4.2.3.2. <span class="xref myst">axclrtEngineGetVNpuKind</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginefinalize">4.2.3.3. <span class="xref myst">axclrtEngineFinalize</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineloadfromfile">4.2.3.4. <span class="xref myst">axclrtEngineLoadFromFile</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineloadfrommem">4.2.3.5. <span class="xref myst">axclrtEngineLoadFromMem</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineunload">4.2.3.6. <span class="xref myst">axclrtEngineUnload</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodelcompilerversion">4.2.3.7. <span class="xref myst">axclrtEngineGetModelCompilerVersion</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetaffinity">4.2.3.8. <span class="xref myst">axclrtEngineSetAffinity</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetaffinity">4.2.3.9. <span class="xref myst">axclrtEngineGetAffinity</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetusage">4.2.3.10. <span class="xref myst">axclrtEngineGetUsage</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetusagefrommem">4.2.3.11. <span class="xref myst">axclrtEngineGetUsageFromMem</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetusagefrommodelid">4.2.3.12. <span class="xref myst">axclrtEngineGetUsageFromModelId</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodeltype">4.2.3.13. <span class="xref myst">axclrtEngineGetModelType</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodeltypefrommem">4.2.3.14. <span class="xref myst">axclrtEngineGetModelTypeFromMem</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodeltypefrommodelid">4.2.3.15. <span class="xref myst">axclrtEngineGetModelTypeFromModelId</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetioinfo">4.2.3.16. <span class="xref myst">axclrtEngineGetIOInfo</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginedestroyioinfo">4.2.3.17. <span class="xref myst">axclrtEngineDestroyIOInfo</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetshapegroupscount">4.2.3.18. <span class="xref myst">axclrtEngineGetShapeGroupsCount</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetnuminputs">4.2.3.19. <span class="xref myst">axclrtEngineGetNumInputs</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetnumoutputs">4.2.3.20. <span class="xref myst">axclrtEngineGetNumOutputs</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputsizebyindex">4.2.3.21. <span class="xref myst">axclrtEngineGetInputSizeByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputsizebyindex">4.2.3.22. <span class="xref myst">axclrtEngineGetOutputSizeByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputnamebyindex">4.2.3.23. <span class="xref myst">axclrtEngineGetInputNameByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputnamebyindex">4.2.3.24. <span class="xref myst">axclrtEngineGetOutputNameByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputindexbyname">4.2.3.25. <span class="xref myst">axclrtEngineGetInputIndexByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputindexbyname">4.2.3.26. <span class="xref myst">axclrtEngineGetOutputIndexByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputdims">4.2.3.27. <span class="xref myst">axclrtEngineGetInputDims</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputdims">4.2.3.28. <span class="xref myst">axclrtEngineGetOutputDims</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginecreateio">4.2.3.29. <span class="xref myst">axclrtEngineCreateIO</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginedestroyio">4.2.3.30. <span class="xref myst">axclrtEngineDestroyIO</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetinputbufferbyindex">4.2.3.31. <span class="xref myst">axclrtEngineSetInputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetoutputbufferbyindex">4.2.3.32. <span class="xref myst">axclrtEngineSetOutputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetinputbufferbyname">4.2.3.33. <span class="xref myst">axclrtEngineSetInputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetoutputbufferbyname">4.2.3.34. <span class="xref myst">axclrtEngineSetOutputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputbufferbyindex">4.2.3.35. <span class="xref myst">axclrtEngineGetInputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputbufferbyindex">4.2.3.36. <span class="xref myst">axclrtEngineGetOutputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputbufferbyname">4.2.3.37. <span class="xref myst">axclrtEngineGetInputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputbufferbyname">4.2.3.38. <span class="xref myst">axclrtEngineGetOutputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetdynamicbatchsize">4.2.3.39. <span class="xref myst">axclrtEngineSetDynamicBatchSize</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginecreatecontext">4.2.3.40. <span class="xref myst">axclrtEngineCreateContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineexecute">4.2.3.41. <span class="xref myst">axclrtEngineExecute</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineexecuteasync">4.2.3.42. <span class="xref myst">axclrtEngineExecuteAsync</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#native-api">4.3. Native API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ppl">4.4. PPL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#architecture">4.4.1. Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#supported-ppls">4.4.1.1. Supported PPLs</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#transcode">4.4.1.1.1. transcode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#api">4.4.2. API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-init">4.4.2.1. axcl_ppl_init</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#prototype">4.4.2.1.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#parameter">4.4.2.1.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#return">4.4.2.1.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-deinit">4.4.2.2. axcl_ppl_deinit</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">4.4.2.2.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">4.4.2.2.2. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-create">4.4.2.3. axcl_ppl_create</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">4.4.2.3.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">4.4.2.3.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">4.4.2.3.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-destroy">4.4.2.4. axcl_ppl_destroy</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">4.4.2.4.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">4.4.2.4.2. parameter</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">4.4.2.5. return</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-start">4.4.2.6. axcl_ppl_start</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">4.4.2.6.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">4.4.2.6.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">4.4.2.6.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-stop">4.4.2.7. axcl_ppl_stop</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">4.4.2.7.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">4.4.2.7.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">4.4.2.7.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-send-stream">4.4.2.8. axcl_ppl_send_stream</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">4.4.2.8.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">4.4.2.8.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">4.4.2.8.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-get-attr">4.4.2.9. axcl_ppl_get_attr</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">4.4.2.9.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">4.4.2.9.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">4.4.2.9.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-set-attr">4.4.2.10. axcl_ppl_set_attr</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">4.4.2.10.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">4.4.2.10.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">4.4.2.10.3. return</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">4.5. 错误代码</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">4.5.1. 定义</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">4.5.2. 解析</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="axcl-api">
<h1><span class="section-number">4. </span>AXCL API<a class="headerlink" href="#axcl-api" title="Link to this heading">#</a></h1>
<section id="id1">
<h2><span class="section-number">4.1. </span>概览<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">AXCL</span> <span class="pre">API</span></code> 分为两部分，第一部分是 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">API</span></code>，第二部分是 <code class="docutils literal notranslate"><span class="pre">Native</span> <span class="pre">API</span></code>。其中 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">API</span></code> 是独立的 <code class="docutils literal notranslate"><span class="pre">API</span></code> 组合，目前仅包含用于内存管理的 <code class="docutils literal notranslate"><span class="pre">Memory</span></code> 和用于驱动 <code class="docutils literal notranslate"><span class="pre">爱芯通元(TM)</span></code> <code class="docutils literal notranslate"><span class="pre">NPU</span></code> 工作的 <code class="docutils literal notranslate"><span class="pre">Engine</span> <span class="pre">API</span></code>。当 <code class="docutils literal notranslate"><span class="pre">AXCL</span> <span class="pre">API</span></code> 被用于计算卡形态，不使用编解码功能时，只使用 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">API</span></code> 即可完成全部计算任务。当需要使用编解码功能时，需要了解 <code class="docutils literal notranslate"><span class="pre">Native</span> <span class="pre">API</span></code> 及 <code class="docutils literal notranslate"><span class="pre">FFMPEG</span></code> 模块的有关内容。</p>
</section>
<section id="runtime-api">
<h2><span class="section-number">4.2. </span>Runtime API<a class="headerlink" href="#runtime-api" title="Link to this heading">#</a></h2>
<p>使用 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">API</span></code> 可以在宿主系统上调用 <code class="docutils literal notranslate"><span class="pre">NPU</span></code> 完成计算功能，其中 <code class="docutils literal notranslate"><span class="pre">Memory</span> <span class="pre">API</span></code> 可以分别在宿主和计算卡上申请释放内存空间，<code class="docutils literal notranslate"><span class="pre">Engine</span> <span class="pre">API</span></code> 可以完成模型初始化、<code class="docutils literal notranslate"><span class="pre">IO</span></code> 设置到推理的全部 <code class="docutils literal notranslate"><span class="pre">NPU</span></code> 功能。</p>
<section id="id2">
<h3><span class="section-number">4.2.1. </span>Runtime API<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<section id="axclinit">
<h4><span class="section-number">4.2.1.1. </span><a class="reference internal" href="#axclinit"><span class="xref myst">axclInit</span></a><a class="headerlink" href="#axclinit" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclInit</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>系统初始化，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">[IN]</span></code>：指定json配置文件路径。</p>
<ul>
<li><p>用户可以通过json配置文件配置系统参数，目前支持日志级别，格式<a class="reference external" href="https://github.com/AXERA-TECH/axcl-docs/wiki/0.FAQ#how-to-configure-runtime-log--level">参阅FAQ</a>。</p></li>
<li><p>允许传入NULL或者不存在的json文件，则系统使用默认配置。</p></li>
</ul>
</li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>和 <a class="reference internal" href="#axclfinalize"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclFinalize</span></code></span></a> 成对调用对系统清理。</p></li>
<li><p>当调用任何AXCL接口开发应用时，必须首先调用本接口。</p></li>
<li><p>一个进程内只调用一次本接口。</p></li>
</ul>
</section>
<section id="axclfinailze">
<h4><span class="section-number">4.2.1.2. </span><a class="reference internal" href="#axclfinalize"><span class="xref myst">axclFinailze</span></a><a class="headerlink" href="#axclfinailze" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclFinalize</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>系统去初始化，释放进程内AXCL的资源，同步接口。</p>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>和 <a class="reference internal" href="#axclinit"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclInit</span></code></span></a> 成对调用。</p></li>
<li><p>应用进程退出前，应显示调用本接口去初始化。</p></li>
<li><p>对于C++应用，不建议在析构函数中调用，否则在进程退出时可能因为单例析构顺序不确定导致进程异常退出。</p></li>
</ul>
</section>
<section id="axclrtgetversion">
<h4><span class="section-number">4.2.1.3. </span><a class="reference internal" href="#axclrtgetversion"><span class="xref myst">axclrtGetVersion</span></a><a class="headerlink" href="#axclrtgetversion" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtGetVersion</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="o">*</span><span class="n">major</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="o">*</span><span class="n">minor</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="o">*</span><span class="n">patch</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>查询系统版本号，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">major</span> <span class="pre">[OUT]</span></code>：主版本号。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">minor[OUT]</span></code>：子版本号。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">patch</span> <span class="pre">[OUT]</span></code>：patch版本号。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<section id="axclrtgetsocname">
<h4><span class="section-number">4.2.1.4. </span><a class="reference internal" href="#axclrtgetsocname"><span class="xref myst">axclrtGetSocName</span></a><a class="headerlink" href="#axclrtgetsocname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">axclrtGetSocName</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>查询当前的芯片SOC字符串名，同步接口。</p>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<section id="axclrtsetdevice">
<h4><span class="section-number">4.2.1.5. </span><a class="reference internal" href="#axclrtsetdevice"><span class="xref myst">axclrtSetDevice</span></a><a class="headerlink" href="#axclrtsetdevice" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtSetDevice</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">deviceId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>指定当前进程或线程中的设备，同时隐式创建默认Context，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceId</span> <span class="pre">[IN]</span></code>：设备ID。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>本接口内部隐式创建默认Context，该Context由系统在 <a class="reference internal" href="#axclrtresetdevice"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtResetDevice</span></code></span></a> 自动回收，不能调用 <a class="reference internal" href="#axclrtdestroycontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtDestroyContext</span></code></span></a> 显示销毁。</p></li>
<li><p>在同一个进程的多个线程中，如果调用本接口指定的deviceId是同一个，那么隐式创建的Context也是同一个。</p></li>
<li><p>和 <a class="reference internal" href="#axclrtresetdevice"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtResetDevice</span></code></span></a> 成对调用释放本进程使用的设备资源，内部通过引用计数允许多次调用，仅当引用计数为0时释放资源。</p></li>
<li><p>多Device场景下，可以在进程中通过本接口或 <a class="reference internal" href="#axclrtsetcurrentcontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetCurrentContext</span></code></span></a> 切换Device。</p></li>
</ul>
</section>
<section id="axclrtresetdevice">
<h4><span class="section-number">4.2.1.6. </span><a class="reference internal" href="#axclrtresetdevice"><span class="xref myst">axclrtResetDevice</span></a><a class="headerlink" href="#axclrtresetdevice" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtResetDevice</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">deviceId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>复位设备，释放设备上的资源，包含隐式或显示创建的Context，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceId</span> <span class="pre">[IN]</span></code>：设备ID。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p><a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtCreateContext</span></code></span></a>  显示创建的Context，推荐  <a class="reference internal" href="#axclrtdestroycontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtDestroyContext</span></code></span></a>  显示销毁后再调用本接口释放设备资源。</p></li>
<li><p>和 <a class="reference internal" href="#axclrtsetdevice"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetDevice</span></code></span></a> 成对使用，系统将自动回收默认的Context资源。</p></li>
<li><p>内部通过引用计数允许多次调用，仅当引用计数为0时释放资源。</p></li>
<li><p><strong>应用进程退出要确保<code class="docutils literal notranslate"><span class="pre">axclrtResetDevice</span></code>被调用，特别是异常信号捕获处理后，否则会导致C++抛出terminated abort异常。</strong></p></li>
</ul>
</section>
<section id="axclrtgetdevice">
<h4><span class="section-number">4.2.1.7. </span><a class="reference internal" href="#axclrtgetdevice"><span class="xref myst">axclrtGetDevice</span></a><a class="headerlink" href="#axclrtgetdevice" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtGetDevice</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="o">*</span><span class="n">deviceId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>获取当前正在使用的设备ID，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceId</span> <span class="pre">[OUT]</span></code>：设备ID。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>如果没有调用  <a class="reference internal" href="#axclrtsetdevice"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetDevice</span></code></span></a>  或者  <a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtCreateContext</span></code></span></a>  指定设备，本接口返回错误。</p></li>
</ul>
</section>
<section id="axclrtgetdevicecount">
<h4><span class="section-number">4.2.1.8. </span><a class="reference internal" href="#axclrtgetdevicecount"><span class="xref myst">axclrtGetDeviceCount</span></a><a class="headerlink" href="#axclrtgetdevicecount" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtGetDeviceCount</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="o">*</span><span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>获取连接的设备总个数，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count</span> <span class="pre">[OUT]</span></code>：设备个数。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<section id="axclrtgetdevicelist">
<h4><span class="section-number">4.2.1.9. </span><a class="reference internal" href="#axclrtgetdevicelist"><span class="xref myst">axclrtGetDeviceList</span></a><a class="headerlink" href="#axclrtgetdevicelist" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtGetDeviceList</span><span class="p">(</span><span class="n">axclrtDeviceList</span><span class="w"> </span><span class="o">*</span><span class="n">deviceList</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>获取全部连接的设备ID，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deviceList[OUT]</span></code>：全部连接的设备ID信息。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<section id="axclrtsynchronizedevice">
<h4><span class="section-number">4.2.1.10. </span><a class="reference internal" href="#axclrtsynchronizedevice"><span class="xref myst">axclrtSynchronizeDevice</span></a><a class="headerlink" href="#axclrtsynchronizedevice" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtSynchronizeDevice</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>同步执行当前设备的全部任务，，同步接口。</p>
<p><strong>限制</strong>：</p>
<p>至少激活一个设备。</p>
</section>
<section id="axclrtgetdeviceutilizationrate">
<h4><span class="section-number">4.2.1.11. </span><a class="reference internal" href="#axclrtgetdeviceutilizationrate"><span class="xref myst">axclrtGetDeviceUtilizationRate</span></a><a class="headerlink" href="#axclrtgetdeviceutilizationrate" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtGetDeviceUtilizationRate</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">deviceId</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtUtilizationInfo</span><span class="w"> </span><span class="o">*</span><span class="n">utilizationInfo</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>获取设备CPU、NPU和内存信息，，同步接口。<strong>此接口暂未实现</strong>。</p>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>如果没有调用  <a class="reference internal" href="#axclrtsetdevice"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetDevice</span></code></span></a>  或者  <a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtCreateContext</span></code></span></a>  指定设备，本接口返回错误。</p></li>
</ul>
</section>
<section id="axclrtcreatecontext">
<h4><span class="section-number">4.2.1.12. </span><a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst">axclrtCreateContext</span></a><a class="headerlink" href="#axclrtcreatecontext" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtCreateContext</span><span class="p">(</span><span class="n">axclrtContext</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">deviceId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>在当前线程中显示创建一个Context，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context</span> <span class="pre">[OUT]</span></code>：创建的Context句柄。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deviceId</span> <span class="pre">[IN]</span></code>：设备ID。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>用户创建的子线程若需要调用AXCL API，必须调用此接口显示创建或者  <a class="reference internal" href="#axclrtsetcurrentcontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetCurrentContext</span></code></span></a>  绑定一个Context。</p></li>
<li><p>若指定设备设备未被激活，本接口内部将首先激活设备。</p></li>
<li><p>调用 <a class="reference internal" href="#axclrtdestroycontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtDestroyContext</span></code></span></a> 显示释放Context资源。</p></li>
<li><p>允许多个线程共用一个Context（由 <a class="reference internal" href="#axclrtsetcurrentcontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetCurrentContext</span></code></span></a>  绑定），但任务的执行取决于系统线程调度的顺序，用户需要自行管理和维护线程间任务的执行同步顺序问题。对于多线程，推荐为每个线程创建专属的Context，增加程序的可维护性。</p></li>
</ul>
</section>
<section id="axclrtdestroycontext">
<h4><span class="section-number">4.2.1.13. </span><a class="reference internal" href="#axclrtdestroycontext"><span class="xref myst">axclrtDestroyContext</span></a><a class="headerlink" href="#axclrtdestroycontext" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtDestroyContext</span><span class="p">(</span><span class="n">axclrtContext</span><span class="w"> </span><span class="n">context</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>显示销毁Context，同步接口</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context</span> <span class="pre">[IN]</span></code>：创建的Context句柄。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>只能销毁 <a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtCreateContext</span></code></span></a> 创建的Context资源。</p></li>
</ul>
</section>
<section id="axclrtsetcurrentcontext">
<h4><span class="section-number">4.2.1.14. </span><a class="reference internal" href="#axclrtsetcurrentcontext"><span class="xref myst">axclrtSetCurrentContext</span></a><a class="headerlink" href="#axclrtsetcurrentcontext" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtSetCurrentContext</span><span class="p">(</span><span class="n">axclrtContext</span><span class="w"> </span><span class="n">context</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>绑定线程运行的Context， 同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context</span> <span class="pre">[IN]</span></code>：Context句柄。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>如果多次调用本接口绑定线程，以最后一次的Context为准。</p></li>
<li><p>若绑定Context对应的设备Device已被 <a class="reference internal" href="#axclrtresetdevice"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtResetDevice</span></code></span></a> 复位，则不能将该Context设置为线程的Context，否则会导致异常。</p></li>
<li><p>推荐在某一线程中创建的Context，在该线程中使用。若在线程A中调用  <a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtCreateContext</span></code></span></a>  接口创建Context，在线程B中使用该Context，则需由用户自行保证两个线程中同一个Context下任务执行的顺序。</p></li>
</ul>
</section>
<section id="axclrtgetcurrentcontext">
<h4><span class="section-number">4.2.1.15. </span><a class="reference internal" href="#axclrtgetcurrentcontext"><span class="xref myst">axclrtGetCurrentContext</span></a><a class="headerlink" href="#axclrtgetcurrentcontext" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtGetCurrentContext</span><span class="p">(</span><span class="n">axclrtContext</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>获取线程绑定的Context句柄，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context</span> <span class="pre">[OUT]</span></code>：当前的上下文句柄。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>调用线程需要执行 <a class="reference internal" href="#axclrtsetcurrentcontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetCurrentContext</span></code></span></a> 绑定或者 <a class="reference internal" href="#axclrtcreatecontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtCreateContext</span></code></span></a> 创建Context后才能获取。</p></li>
<li><p>如果多次调用  <a class="reference internal" href="#axclrtsetcurrentcontext"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtSetCurrentContext</span></code></span></a> ，那么获取的是最后一次设置的Context。</p></li>
</ul>
</section>
</section>
<section id="memory-api">
<h3><span class="section-number">4.2.2. </span>Memory API<a class="headerlink" href="#memory-api" title="Link to this heading">#</a></h3>
<section id="axclrtmalloc">
<h4><span class="section-number">4.2.2.1. </span><a class="reference internal" href="#axclrtmalloc"><span class="xref myst">axclrtMalloc</span></a><a class="headerlink" href="#axclrtmalloc" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMalloc</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">devPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtMemMallocPolicy</span><span class="w"> </span><span class="n">policy</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>在设备侧分配非CACHED物理内存，通过**devPtr*返回已分配的内存的指针，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr</span> <span class="pre">[OUT]</span></code>：返回已分配的设备侧物理内存指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：指定分配的内存大小，单位字节。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">policy[IN]</span></code>：指定分配的内存规则，目前没有使用。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>本接口从设备侧CMM内存池分配连续物理内存。</p></li>
<li><p>本接口申请非CACHED内存，不用处理一致性。</p></li>
<li><p>调用<a class="reference internal" href="#axclrtfree"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtFree</span></code></span></a> 释放内存。</p></li>
<li><p>频繁申请释放内存会损耗性能，建议用户做好预分配或二次管理，避免频繁申请和释放。</p></li>
</ul>
</section>
<section id="axclrtmalloccached">
<h4><span class="section-number">4.2.2.2. </span><a class="reference internal" href="#axclrtmalloccached"><span class="xref myst">axclrtMallocCached</span></a><a class="headerlink" href="#axclrtmalloccached" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMallocCached</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">devPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtMemMallocPolicy</span><span class="w"> </span><span class="n">policy</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>在设备侧分配CACHED物理内存，通过**devPtr*返回已分配的内存的指针，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr</span> <span class="pre">[OUT]</span></code>：返回已分配的设备侧物理内存指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：指定分配的内存大小，单位字节。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">policy[IN]</span></code>：指定分配的内存规则，目前没有使用。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>本接口从设备侧CMM内存池分配连续物理内存。</p></li>
<li><p>本接口申请CACHED内存，需要用户处理一致性。</p></li>
<li><p>调用<a class="reference internal" href="#axclrtfree"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtFree</span></code></span></a> 释放内存。</p></li>
<li><p>频繁申请释放内存会损耗性能，建议用户做好预分配或二次管理，避免频繁申请和释放。</p></li>
</ul>
</section>
<section id="axclrtfree">
<h4><span class="section-number">4.2.2.3. </span><a class="reference internal" href="#axclrtfree"><span class="xref myst">axclrtFree</span></a><a class="headerlink" href="#axclrtfree" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtFree</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">devPtr</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>释放设备侧分配的内存，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr</span> <span class="pre">[IN]</span></code>：待释放的设备内存。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>只能释放 <a class="reference internal" href="#axclrtmalloc"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMalloc</span></code></span></a>  或  <a class="reference internal" href="#axclrtmalloccached"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocCached</span></code></span></a>  申请的设备侧内存。</p></li>
</ul>
</section>
<section id="axclrtmemflush">
<h4><span class="section-number">4.2.2.4. </span><a class="reference internal" href="#axclrtmemflush"><span class="xref myst">axclrtMemFlush</span></a><a class="headerlink" href="#axclrtmemflush" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMemFlush</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">devPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>将cache中的数据刷新到DDR中，并将cache中的内容设置成无效，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr</span> <span class="pre">[IN]</span></code>：待flush的DDR内存起始地址指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：待flush的DDR内存大小，单位字节。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制</p>
</section>
<section id="axclrtmeminvalidate">
<h4><span class="section-number">4.2.2.5. </span><a class="reference internal" href="#axclrtmeminvalidate"><span class="xref myst">axclrtMemInvalidate</span></a><a class="headerlink" href="#axclrtmeminvalidate" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMemInvalidate</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">devPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>将cache中的数据设置成无效，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr</span> <span class="pre">[IN]</span></code>：待cache数据设置为无效的DDR内存起始地址指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：DDR内存大小，单位字节。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>无特别限制</p></li>
</ul>
</section>
<section id="axclrtmallochost">
<h4><span class="section-number">4.2.2.6. </span><a class="reference internal" href="#axclrtmallochost"><span class="xref myst">axclrtMallocHost</span></a><a class="headerlink" href="#axclrtmallochost" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMallocHost</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">hostPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>在HOST申请虚拟内存，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hostPtr</span> <span class="pre">[IN]</span></code>：已分配内存首地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：申请的内存大小，单位字节。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>使用 <a class="reference internal" href="#axclrtmallochost"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocHost</span></code></span></a> 接口申请的内存，需要通过 <a class="reference internal" href="#axclrtfreehost"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtFreeHost</span></code></span></a> 接口释放内存。</p></li>
<li><p>频繁申请释放内存会损耗性能，建议用户做好预分配或二次管理，避免频繁申请和释放。</p></li>
<li><p>在HOST申请内存也可以直接调用malloc接口，但推荐调用 <a class="reference internal" href="#axclrtmallochost"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocHost</span></code></span></a> 。</p></li>
</ul>
</section>
<section id="axclrtfreehost">
<h4><span class="section-number">4.2.2.7. </span><a class="reference internal" href="#axclrtfreehost"><span class="xref myst">axclrtFreeHost</span></a><a class="headerlink" href="#axclrtfreehost" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtFreeHost</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">hostPtr</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>释放  <a class="reference internal" href="#axclrtmallochost"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocHost</span></code></span></a>  申请的内存，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hostPtr</span> <span class="pre">[IN]</span></code>：待释放的内存首地址。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>只能释放 <a class="reference internal" href="#axclrtmallochost"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocHost</span></code></span></a> 申请的HOST内存。</p></li>
</ul>
</section>
<section id="axclrtmemset">
<h4><span class="section-number">4.2.2.8. </span><a class="reference internal" href="#axclrtmemset"><span class="xref myst">axclrtMemset</span></a><a class="headerlink" href="#axclrtmemset" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMemset</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">devPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>只能初始化<a class="reference internal" href="#axclrtmalloc"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMalloc</span></code></span></a>  或  <a class="reference internal" href="#axclrtmalloccached"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocCached</span></code></span></a>  申请的设备侧内存，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr[IN]</span></code>：待初始化的设备侧内存首地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">[IN]</span></code>：设置的值。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span> <span class="pre">[IN]</span></code>：待初始化的内存的长度，单位字节。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>只能初始化<a class="reference internal" href="#axclrtmalloc"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMalloc</span></code></span></a>  或  <a class="reference internal" href="#axclrtmalloccached"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocCached</span></code></span></a>  申请的设备侧内存。</p></li>
<li><p><a class="reference internal" href="#axclrtmalloccached"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocCached</span></code></span></a>  申请的设备侧内存初始化需要调用 <a class="reference internal" href="#axclrtmeminvalidate"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMemInvalidate</span></code></span></a>  保持一致性。</p></li>
<li><p><a class="reference internal" href="#axclrtmallochost"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtMallocHost</span></code></span></a> 申请的HOST内存请调用memset函数初始化。</p></li>
</ul>
</section>
<section id="axclrtmemcpy">
<h4><span class="section-number">4.2.2.9. </span><a class="reference internal" href="#axclrtmemcpy"><span class="xref myst">axclrtMemcpy</span></a><a class="headerlink" href="#axclrtmemcpy" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMemcpy</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dstPtr</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">srcPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtMemcpyKind</span><span class="w"> </span><span class="n">kind</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>实现HOST内、HOST与DEVICE之间、DEVICE内的同步内存复制，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr</span> <span class="pre">[IN]</span></code>：目的内存地址指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srcPtr</span> <span class="pre">[IN]</span></code>：源内存地址指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span> <span class="pre">[IN]</span></code>：内存复制的长度，单位字节。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kind</span> <span class="pre">[IN]</span></code>：内存复制的类型。</p>
<ul>
<li><p>[<code class="docutils literal notranslate"><span class="pre">AXCL_MEMCPY_HOST_TO_HOST</span></code>]：HOST内的内存复制。</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">AXCL_MEMCPY_HOST_TO_DEVICE</span></code>]： HOST 虚拟内存到DEVICE的内存复制。</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">AXCL_MEMCPY_DEVICE_TO_HOST</span></code>]： DEVICE到HOST 虚拟内存的内存复制。</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">AXCL_MEMCPY_DEVICE_TO_DEVICE</span></code>]： DEVICE内的内存复制。</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">AXCL_MEMCPY_HOST_PHY_TO_DEVICE</span></code>]： HOST 连续物理内存到DEVICE的内存复制。</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">AXCL_MEMCPY_DEVICE_TO_HOST_PHY</span></code>]：  DEVICE到HOST 连续物理内存的内存复制。</p></li>
</ul>
</li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>复制的源和目标内存需要满足<code class="docutils literal notranslate"><span class="pre">kind</span></code>的要求。</p></li>
</ul>
</section>
<section id="axclrtmemcmp">
<h4><span class="section-number">4.2.2.10. </span><a class="reference internal" href="#axclrtmemcmp"><span class="xref myst">axclrtMemcmp</span></a><a class="headerlink" href="#axclrtmemcmp" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtMemcmp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">devPtr1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">devPtr2</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">count</span><span class="p">);</span><span class="w"> </span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>实现DEVICE内的内存比较，同步接口。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr1</span> <span class="pre">[IN]</span></code>：设备侧地址1指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">devPtr2</span> <span class="pre">[IN]</span></code>：设备侧地址2指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span> <span class="pre">[IN]</span></code>：比较长度，单位字节。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<ul class="simple">
<li><p>只支持设备侧内存的比较，且仅内存比较相同时返回AXCL_SUCC(0)。</p></li>
</ul>
</section>
</section>
<section id="engine-api">
<h3><span class="section-number">4.2.3. </span>Engine API<a class="headerlink" href="#engine-api" title="Link to this heading">#</a></h3>
<section id="axclrtengineinit">
<h4><span class="section-number">4.2.3.1. </span><a class="reference internal" href="#axclrtengineinit"><span class="xref myst">axclrtEngineInit</span></a><a class="headerlink" href="#axclrtengineinit" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineInit</span><span class="p">(</span><span class="n">axclrtEngineVNpuKind</span><span class="w"> </span><span class="n">npuKind</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于初始化 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code>。用户需要在使用 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code> 之前调用此函数。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">npuKind</span> <span class="pre">[IN]</span></code>：指定要初始化的 <code class="docutils literal notranslate"><span class="pre">VNPU</span></code> 类型。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>用户在使用完 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code> 后，需要调用 <a class="reference internal" href="#axclrtenginefinalize"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtEngineFinalize</span></code></span></a> 来完成 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code> 的清理工作。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetvnpukind">
<h4><span class="section-number">4.2.3.2. </span><a class="reference internal" href="#axclrtenginegetvnpukind"><span class="xref myst">axclrtEngineGetVNpuKind</span></a><a class="headerlink" href="#axclrtenginegetvnpukind" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetVNpuKind</span><span class="p">(</span><span class="n">axclrtEngineVNpuKind</span><span class="w"> </span><span class="o">*</span><span class="n">npuKind</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于获取 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code> 初始化的 <code class="docutils literal notranslate"><span class="pre">VNPU</span></code> 类型。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">npuKind</span> <span class="pre">[OUT]</span></code>：返回 <code class="docutils literal notranslate"><span class="pre">VNPU</span></code> 类型。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>用户必须在调用此函数之前调用 <a class="reference internal" href="#axclrtengineinit"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtEngineInit</span></code></span></a> 来初始化 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginefinalize">
<h4><span class="section-number">4.2.3.3. </span><a class="reference internal" href="#axclrtenginefinalize"><span class="xref myst">axclrtEngineFinalize</span></a><a class="headerlink" href="#axclrtenginefinalize" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineFinalize</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于完成 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code> 的清理工作。用户在完成所有操作后需要调用此函数。</p>
<p><strong>限制</strong>：</p>
<p>用户必须在调用此函数之前调用 <a class="reference internal" href="#axclrtengineinit"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtEngineInit</span></code></span></a> 来初始化 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtengineloadfromfile">
<h4><span class="section-number">4.2.3.4. </span><a class="reference internal" href="#axclrtengineloadfromfile"><span class="xref myst">axclrtEngineLoadFromFile</span></a><a class="headerlink" href="#axclrtengineloadfromfile" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineLoadFromFile</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">modelPath</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">modelId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数从文件加载模型数据，创建模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelPath</span> <span class="pre">[IN]</span></code>：离线模型文件的存储路径。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[OUT]</span></code>：加载模型后生成的模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> ，用于后续操作的标识。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>用户必须在调用此函数之前调用 <a class="reference internal" href="#axclrtengineinit"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">axclrtEngineInit</span></code></span></a> 来初始化 <code class="docutils literal notranslate"><span class="pre">Runtime</span> <span class="pre">Engine</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtengineloadfrommem">
<h4><span class="section-number">4.2.3.5. </span><a class="reference internal" href="#axclrtengineloadfrommem"><span class="xref myst">axclrtEngineLoadFromMem</span></a><a class="headerlink" href="#axclrtengineloadfrommem" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineLoadFromMem</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelSize</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">modelId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数从内存加载离线模型数据，并由系统内部管理模型运行的内存。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">[IN]</span></code>：存储在内存中的模型数据。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelSize</span> <span class="pre">[IN]</span></code>：模型数据的大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[OUT]</span></code>：加载模型后生成的模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> ，用于后续操作的标识。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>模型内存必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtengineunload">
<h4><span class="section-number">4.2.3.6. </span><a class="reference internal" href="#axclrtengineunload"><span class="xref myst">axclrtEngineUnload</span></a><a class="headerlink" href="#axclrtengineunload" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineUnload</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于卸载指定模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>  的模型。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：要卸载的模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetmodelcompilerversion">
<h4><span class="section-number">4.2.3.7. </span><a class="reference internal" href="#axclrtenginegetmodelcompilerversion"><span class="xref myst">axclrtEngineGetModelCompilerVersion</span></a><a class="headerlink" href="#axclrtenginegetmodelcompilerversion" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">axclrtEngineGetModelCompilerVersion</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于获取模型构建工具链的版本。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginesetaffinity">
<h4><span class="section-number">4.2.3.8. </span><a class="reference internal" href="#axclrtenginesetaffinity"><span class="xref myst">axclrtEngineSetAffinity</span></a><a class="headerlink" href="#axclrtenginesetaffinity" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineSetAffinity</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineSet</span><span class="w"> </span><span class="n">set</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于设置模型的 NPU 亲和性。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">[OUT]</span></code>：设置的亲和性集。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>不允许为零，设置的掩码位不能超出亲和性范围。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetaffinity">
<h4><span class="section-number">4.2.3.9. </span><a class="reference internal" href="#axclrtenginegetaffinity"><span class="xref myst">axclrtEngineGetAffinity</span></a><a class="headerlink" href="#axclrtenginegetaffinity" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetAffinity</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineSet</span><span class="w"> </span><span class="o">*</span><span class="n">set</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于获取模型的 NPU 亲和性。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">[OUT]</span></code>：返回的亲和性集。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetusage">
<h4><span class="section-number">4.2.3.10. </span><a class="reference internal" href="#axclrtenginegetusage"><span class="xref myst">axclrtEngineGetUsage</span></a><a class="headerlink" href="#axclrtenginegetusage" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetUsage</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">modelPath</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="o">*</span><span class="n">sysSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="o">*</span><span class="n">cmmSize</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据模型文件获取模型执行所需的系统内存大小和 CMM 内存大小。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelPath</span> <span class="pre">[IN]</span></code>：用于获取内存信息的模型路径。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sysSize</span> <span class="pre">[OUT]</span></code>：执行模型所需的工作系统内存大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmmSize</span> <span class="pre">[OUT]</span></code>：执行模型所需的 CMM 内存大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetusagefrommem">
<h4><span class="section-number">4.2.3.11. </span><a class="reference internal" href="#axclrtenginegetusagefrommem"><span class="xref myst">axclrtEngineGetUsageFromMem</span></a><a class="headerlink" href="#axclrtenginegetusagefrommem" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetUsageFromMem</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="o">*</span><span class="n">sysSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="o">*</span><span class="n">cmmSize</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据模型数据在内存中获取模型执行所需的系统内存大小和 CMM 内存大小。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">[IN]</span></code>：用户管理的模型内存。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelSize</span> <span class="pre">[IN]</span></code>：模型数据大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sysSize</span> <span class="pre">[OUT]</span></code>：执行模型所需的工作系统内存大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmmSize</span> <span class="pre">[OUT]</span></code>：执行模型所需的 CMM 内存大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>模型内存必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetusagefrommodelid">
<h4><span class="section-number">4.2.3.12. </span><a class="reference internal" href="#axclrtenginegetusagefrommodelid"><span class="xref myst">axclrtEngineGetUsageFromModelId</span></a><a class="headerlink" href="#axclrtenginegetusagefrommodelid" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetUsageFromModelId</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="o">*</span><span class="n">sysSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="o">*</span><span class="n">cmmSize</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>  获取模型执行所需的系统内存大小和 CMM 内存大小。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sysSize</span> <span class="pre">[OUT]</span></code>：执行模型所需的工作系统内存大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cmmSize</span> <span class="pre">[OUT]</span></code>：执行模型所需的 CMM 内存大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetmodeltype">
<h4><span class="section-number">4.2.3.13. </span><a class="reference internal" href="#axclrtenginegetmodeltype"><span class="xref myst">axclrtEngineGetModelType</span></a><a class="headerlink" href="#axclrtenginegetmodeltype" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetModelType</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">modelPath</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineModelKind</span><span class="w"> </span><span class="o">*</span><span class="n">modelType</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据模型文件获取模型类型。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelPath</span> <span class="pre">[IN]</span></code>：用于获取模型类型的模型路径。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelType</span> <span class="pre">[OUT]</span></code>：返回的模型类型。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetmodeltypefrommem">
<h4><span class="section-number">4.2.3.14. </span><a class="reference internal" href="#axclrtenginegetmodeltypefrommem"><span class="xref myst">axclrtEngineGetModelTypeFromMem</span></a><a class="headerlink" href="#axclrtenginegetmodeltypefrommem" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetModelTypeFromMem</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelSize</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineModelKind</span><span class="w"> </span><span class="o">*</span><span class="n">modelType</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据内存中的模型数据获取模型类型。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">[IN]</span></code>：用户管理的模型内存。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelSize</span> <span class="pre">[IN]</span></code>：模型数据大小。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelType</span> <span class="pre">[OUT]</span></code>：返回的模型类型。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>模型内存必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetmodeltypefrommodelid">
<h4><span class="section-number">4.2.3.15. </span><a class="reference internal" href="#axclrtenginegetmodeltypefrommodelid"><span class="xref myst">axclrtEngineGetModelTypeFromModelId</span></a><a class="headerlink" href="#axclrtenginegetmodeltypefrommodelid" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetModelTypeFromModelId</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineModelKind</span><span class="w"> </span><span class="o">*</span><span class="n">modelType</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>  获取模型类型。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modelType</span> <span class="pre">[OUT]</span></code>：返回的模型类型。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetioinfo">
<h4><span class="section-number">4.2.3.16. </span><a class="reference internal" href="#axclrtenginegetioinfo"><span class="xref myst">axclrtEngineGetIOInfo</span></a><a class="headerlink" href="#axclrtenginegetioinfo" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetIOInfo</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="o">*</span><span class="n">ioInfo</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>  获取模型的 IO 信息。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[OUT]</span></code>：返回的 axclrtEngineIOInfo 指针。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>用户在模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 销毁前应调用 <code class="docutils literal notranslate"><span class="pre">axclrtEngineDestroyIOInfo</span></code> 来释放 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginedestroyioinfo">
<h4><span class="section-number">4.2.3.17. </span><a class="reference internal" href="#axclrtenginedestroyioinfo"><span class="xref myst">axclrtEngineDestroyIOInfo</span></a><a class="headerlink" href="#axclrtenginedestroyioinfo" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineDestroyIOInfo</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于销毁类型为 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 的数据。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetshapegroupscount">
<h4><span class="section-number">4.2.3.18. </span><a class="reference internal" href="#axclrtenginegetshapegroupscount"><span class="xref myst">axclrtEngineGetShapeGroupsCount</span></a><a class="headerlink" href="#axclrtenginegetshapegroupscount" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetShapeGroupsCount</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="o">*</span><span class="n">count</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于获取 IO 形状组的数量。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count</span> <span class="pre">[OUT]</span></code>：形状组的数量。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>Pulsar2 工具链可以在模型转换时指定多个形状。普通模型只有一个形状，因此对于正常转换的模型，调用此函数没有必要。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetnuminputs">
<h4><span class="section-number">4.2.3.19. </span><a class="reference internal" href="#axclrtenginegetnuminputs"><span class="xref myst">axclrtEngineGetNumInputs</span></a><a class="headerlink" href="#axclrtenginegetnuminputs" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">axclrtEngineGetNumInputs</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 数据获取模型的输入数量。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetnumoutputs">
<h4><span class="section-number">4.2.3.20. </span><a class="reference internal" href="#axclrtenginegetnumoutputs"><span class="xref myst">axclrtEngineGetNumOutputs</span></a><a class="headerlink" href="#axclrtenginegetnumoutputs" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">axclrtEngineGetNumOutputs</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 数据获取模型的输出数量。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetinputsizebyindex">
<h4><span class="section-number">4.2.3.21. </span><a class="reference internal" href="#axclrtenginegetinputsizebyindex"><span class="xref myst">axclrtEngineGetInputSizeByIndex</span></a><a class="headerlink" href="#axclrtenginegetinputsizebyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">axclrtEngineGetInputSizeByIndex</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 数据获取指定输入的大小。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">[IN]</span></code>：输入形状组索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：要获取的输入大小的索引值，从 0 开始。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetoutputsizebyindex">
<h4><span class="section-number">4.2.3.22. </span><a class="reference internal" href="#axclrtenginegetoutputsizebyindex"><span class="xref myst">axclrtEngineGetOutputSizeByIndex</span></a><a class="headerlink" href="#axclrtenginegetoutputsizebyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">axclrtEngineGetOutputSizeByIndex</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 数据获取指定输出的大小。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">[IN]</span></code>：输出形状组索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：要获取的输出大小的索引值，从 0 开始。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetinputnamebyindex">
<h4><span class="section-number">4.2.3.23. </span><a class="reference internal" href="#axclrtenginegetinputnamebyindex"><span class="xref myst">axclrtEngineGetInputNameByIndex</span></a><a class="headerlink" href="#axclrtenginegetinputnamebyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">axclrtEngineGetInputNameByIndex</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数获取指定输入的名称。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输入 IO 索引。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>返回的输入张量名称与 <code class="docutils literal notranslate"><span class="pre">ioInfo</span></code> 的生命周期相同。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetoutputnamebyindex">
<h4><span class="section-number">4.2.3.24. </span><a class="reference internal" href="#axclrtenginegetoutputnamebyindex"><span class="xref myst">axclrtEngineGetOutputNameByIndex</span></a><a class="headerlink" href="#axclrtenginegetoutputnamebyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">axclrtEngineGetOutputNameByIndex</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数获取指定输出的名称。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输出 IO 索引。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>返回的输出张量名称与 <code class="docutils literal notranslate"><span class="pre">ioInfo</span></code> 的生命周期相同。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetinputindexbyname">
<h4><span class="section-number">4.2.3.25. </span><a class="reference internal" href="#axclrtenginegetinputindexbyname"><span class="xref myst">axclrtEngineGetInputIndexByName</span></a><a class="headerlink" href="#axclrtenginegetinputindexbyname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">axclrtEngineGetInputIndexByName</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据输入张量的名称获取输入索引。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：模型描述。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">[IN]</span></code>：输入张量名称。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetoutputindexbyname">
<h4><span class="section-number">4.2.3.26. </span><a class="reference internal" href="#axclrtenginegetoutputindexbyname"><span class="xref myst">axclrtEngineGetOutputIndexByName</span></a><a class="headerlink" href="#axclrtenginegetoutputindexbyname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">axclrtEngineGetOutputIndexByName</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数根据输出张量的名称获取输出索引。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：模型描述。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">[IN]</span></code>：输出张量名称。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetinputdims">
<h4><span class="section-number">4.2.3.27. </span><a class="reference internal" href="#axclrtenginegetinputdims"><span class="xref myst">axclrtEngineGetInputDims</span></a><a class="headerlink" href="#axclrtenginegetinputdims" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetInputDims</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineIODims</span><span class="w"> </span><span class="o">*</span><span class="n">dims</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数获取指定输入的维度信息。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">[IN]</span></code>：输入形状组索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输入张量索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dims</span> <span class="pre">[OUT]</span></code>：返回的维度信息。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p><code class="docutils literal notranslate"><span class="pre">axclrtEngineIODims</span></code> 的存储空间是用户申请的，用户在模型 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 销毁前应释放 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIODims</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetoutputdims">
<h4><span class="section-number">4.2.3.28. </span><a class="reference internal" href="#axclrtenginegetoutputdims"><span class="xref myst">axclrtEngineGetOutputDims</span></a><a class="headerlink" href="#axclrtenginegetoutputdims" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetOutputDims</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineIODims</span><span class="w"> </span><span class="o">*</span><span class="n">dims</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数获取指定输出的维度信息。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">[IN]</span></code>：输出形状组索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输出张量索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dims</span> <span class="pre">[OUT]</span></code>：返回的维度信息。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p><code class="docutils literal notranslate"><span class="pre">axclrtEngineIODims</span></code> 的存储空间是用户申请的，用户在模型 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIOInfo</span></code> 销毁前应释放 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIODims</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginecreateio">
<h4><span class="section-number">4.2.3.29. </span><a class="reference internal" href="#axclrtenginecreateio"><span class="xref myst">axclrtEngineCreateIO</span></a><a class="headerlink" href="#axclrtenginecreateio" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineCreateIO</span><span class="p">(</span><span class="n">axclrtEngineIOInfo</span><span class="w"> </span><span class="n">ioInfo</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="o">*</span><span class="n">io</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数创建类型为 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIO</span></code> 的数据。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ioInfo</span> <span class="pre">[IN]</span></code>：axclrtEngineIOInfo 指针。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[OUT]</span></code>：创建的 axclrtEngineIO 指针。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>用户在模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 销毁前应调用 <code class="docutils literal notranslate"><span class="pre">axclrtEngineDestroyIO</span></code> 来释放 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIO</span></code>。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginedestroyio">
<h4><span class="section-number">4.2.3.30. </span><a class="reference internal" href="#axclrtenginedestroyio"><span class="xref myst">axclrtEngineDestroyIO</span></a><a class="headerlink" href="#axclrtenginedestroyio" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineDestroyIO</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数用于销毁类型为 <code class="docutils literal notranslate"><span class="pre">axclrtEngineIO</span></code> 的数据。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：要销毁的 axclrtEngineIO 指针。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginesetinputbufferbyindex">
<h4><span class="section-number">4.2.3.31. </span><a class="reference internal" href="#axclrtenginesetinputbufferbyindex"><span class="xref myst">axclrtEngineSetInputBufferByIndex</span></a><a class="headerlink" href="#axclrtenginesetinputbufferbyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineSetInputBufferByIndex</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 索引设置输入数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输入张量索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[IN]</span></code>：要添加的数据缓冲区地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：数据缓冲区大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginesetoutputbufferbyindex">
<h4><span class="section-number">4.2.3.32. </span><a class="reference internal" href="#axclrtenginesetoutputbufferbyindex"><span class="xref myst">axclrtEngineSetOutputBufferByIndex</span></a><a class="headerlink" href="#axclrtenginesetoutputbufferbyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineSetOutputBufferByIndex</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 索引设置输出数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输出张量索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[IN]</span></code>：要添加的数据缓冲区地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：数据缓冲区大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginesetinputbufferbyname">
<h4><span class="section-number">4.2.3.33. </span><a class="reference internal" href="#axclrtenginesetinputbufferbyname"><span class="xref myst">axclrtEngineSetInputBufferByName</span></a><a class="headerlink" href="#axclrtenginesetinputbufferbyname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineSetInputBufferByName</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 名称设置输入数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">[IN]</span></code>：输入张量名称。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[IN]</span></code>：要添加的数据缓冲区地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：数据缓冲区大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginesetoutputbufferbyname">
<h4><span class="section-number">4.2.3.34. </span><a class="reference internal" href="#axclrtenginesetoutputbufferbyname"><span class="xref myst">axclrtEngineSetOutputBufferByName</span></a><a class="headerlink" href="#axclrtenginesetoutputbufferbyname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineSetOutputBufferByName</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 名称设置输出数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">[IN]</span></code>：输出张量名称。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[IN]</span></code>：要添加的数据缓冲区地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：数据缓冲区大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetinputbufferbyindex">
<h4><span class="section-number">4.2.3.35. </span><a class="reference internal" href="#axclrtenginegetinputbufferbyindex"><span class="xref myst">axclrtEngineGetInputBufferByIndex</span></a><a class="headerlink" href="#axclrtenginegetinputbufferbyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetInputBufferByIndex</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 索引获取输入数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输入张量索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[OUT]</span></code>：数据缓冲区地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：数据缓冲区大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetoutputbufferbyindex">
<h4><span class="section-number">4.2.3.36. </span><a class="reference internal" href="#axclrtenginegetoutputbufferbyindex"><span class="xref myst">axclrtEngineGetOutputBufferByIndex</span></a><a class="headerlink" href="#axclrtenginegetoutputbufferbyindex" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetOutputBufferByIndex</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 索引获取输出数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">[IN]</span></code>：输出张量索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[OUT]</span></code>：数据缓冲区地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span> <span class="pre">[IN]</span></code>：数据缓冲区大小。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetinputbufferbyname">
<h4><span class="section-number">4.2.3.37. </span><a class="reference internal" href="#axclrtenginegetinputbufferbyname"><span class="xref myst">axclrtEngineGetInputBufferByName</span></a><a class="headerlink" href="#axclrtenginegetinputbufferbyname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetInputBufferByName</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 名称获取输入数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">[IN]</span></code>：输入张量名称。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[OUT]</span></code>：数据缓冲区地址。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginegetoutputbufferbyname">
<h4><span class="section-number">4.2.3.38. </span><a class="reference internal" href="#axclrtenginegetoutputbufferbyname"><span class="xref myst">axclrtEngineGetOutputBufferByName</span></a><a class="headerlink" href="#axclrtenginegetoutputbufferbyname" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineGetOutputBufferByName</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">**</span><span class="n">dataBuffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">size</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数通过 IO 名称获取输出数据缓冲区。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：axclrtEngineIO 数据缓冲区的地址。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">[IN]</span></code>：输出张量名称。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataBuffer</span> <span class="pre">[OUT]</span></code>：数据缓冲区地址。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>数据缓冲区必须是设备内存，用户需要自行管理和释放。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginesetdynamicbatchsize">
<h4><span class="section-number">4.2.3.39. </span><a class="reference internal" href="#axclrtenginesetdynamicbatchsize"><span class="xref myst">axclrtEngineSetDynamicBatchSize</span></a><a class="headerlink" href="#axclrtenginesetdynamicbatchsize" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineSetDynamicBatchSize</span><span class="p">(</span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">batchSize</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数在动态批处理场景中设置一次处理的图像数量。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：模型推理的 IO。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">batchSize</span> <span class="pre">[IN]</span></code>：一次处理的图像数量。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtenginecreatecontext">
<h4><span class="section-number">4.2.3.40. </span><a class="reference internal" href="#axclrtenginecreatecontext"><span class="xref myst">axclrtEngineCreateContext</span></a><a class="headerlink" href="#axclrtenginecreatecontext" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineCreateContext</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="o">*</span><span class="n">contextId</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数为模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>  创建一个模型运行环境上下文。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contextId</span> <span class="pre">[OUT]</span></code>：创建的上下文 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>一个模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code>  可以创建多个运行上下文，每个上下文仅在其自己的设置和内存空间中运行。</p>
</section>
<hr class="docutils" />
<section id="axclrtengineexecute">
<h4><span class="section-number">4.2.3.41. </span><a class="reference internal" href="#axclrtengineexecute"><span class="xref myst">axclrtEngineExecute</span></a><a class="headerlink" href="#axclrtengineexecute" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineExecute</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">contextId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数执行模型的同步推理，直到返回推理结果。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contextId</span> <span class="pre">[IN]</span></code>：模型推理上下文。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">[IN]</span></code>：模型形状组索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：模型推理的 IO。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
<hr class="docutils" />
<section id="axclrtengineexecuteasync">
<h4><span class="section-number">4.2.3.42. </span><a class="reference internal" href="#axclrtengineexecuteasync"><span class="xref myst">axclrtEngineExecuteAsync</span></a><a class="headerlink" href="#axclrtengineexecuteasync" title="Link to this heading">#</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">axclError</span><span class="w"> </span><span class="nf">axclrtEngineExecuteAsync</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">modelId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">contextId</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">group</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtEngineIO</span><span class="w"> </span><span class="n">io</span><span class="p">,</span><span class="w"> </span><span class="n">axclrtStream</span><span class="w"> </span><span class="n">stream</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>使用说明</strong>：</p>
<p>此函数执行模型的异步推理，直到返回推理结果。</p>
<p><strong>参数</strong>：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">modelId</span> <span class="pre">[IN]</span></code>：模型 <code class="docutils literal notranslate"><span class="pre">ID</span></code> 。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contextId</span> <span class="pre">[IN]</span></code>：模型推理上下文。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span> <span class="pre">[IN]</span></code>：模型形状组索引。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">io</span> <span class="pre">[IN]</span></code>：模型推理的 IO。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stream</span> <span class="pre">[IN]</span></code>：流。</p></li>
</ul>
<p><strong>限制</strong>：</p>
<p>无特别限制。</p>
</section>
</section>
</section>
<section id="native-api">
<h2><span class="section-number">4.3. </span>Native API<a class="headerlink" href="#native-api" title="Link to this heading">#</a></h2>
<ul>
<li><p>AXCL NATIVE模块支持SYS、VDEC、VENC、IVPS、DMADIM、ENGINE、IVE模块。</p></li>
<li><p>AXCL NATIVE API和AX SDK API参数完全一致，差别在于函数命名由原来的AX前缀变更为AXCL，示例：</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_SYS_Init</span><span class="p">(</span><span class="n">AX_VOID</span><span class="p">);</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_SYS_Deinit</span><span class="p">(</span><span class="n">AX_VOID</span><span class="p">);</span>

<span class="cm">/* CMM API */</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_SYS_MemAlloc</span><span class="p">(</span><span class="n">AX_U64</span><span class="w"> </span><span class="o">*</span><span class="n">phyaddr</span><span class="p">,</span><span class="w"> </span><span class="n">AX_VOID</span><span class="w"> </span><span class="o">**</span><span class="n">pviraddr</span><span class="p">,</span><span class="w"> </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">align</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AX_S8</span><span class="w"> </span><span class="o">*</span><span class="n">token</span><span class="p">);</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_SYS_MemAllocCached</span><span class="p">(</span><span class="n">AX_U64</span><span class="w"> </span><span class="o">*</span><span class="n">phyaddr</span><span class="p">,</span><span class="w"> </span><span class="n">AX_VOID</span><span class="w"> </span><span class="o">**</span><span class="n">pviraddr</span><span class="p">,</span><span class="w"> </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">align</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AX_S8</span><span class="w"> </span><span class="o">*</span><span class="n">token</span><span class="p">);</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_SYS_MemFree</span><span class="p">(</span><span class="n">AX_U64</span><span class="w"> </span><span class="n">phyaddr</span><span class="p">,</span><span class="w"> </span><span class="n">AX_VOID</span><span class="w"> </span><span class="o">*</span><span class="n">pviraddr</span><span class="p">);</span>

<span class="p">...</span>
<span class="w">   </span>
<span class="n">AX_S32</span><span class="w"> </span><span class="n">AXCL_VDEC_Init</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">AX_VDEC_MOD_ATTR_T</span><span class="w"> </span><span class="o">*</span><span class="n">pstModAttr</span><span class="p">);</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_VDEC_Deinit</span><span class="p">(</span><span class="n">AX_VOID</span><span class="p">);</span>

<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_VDEC_ExtractStreamHeaderInfo</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">AX_VDEC_STREAM_T</span><span class="w"> </span><span class="o">*</span><span class="n">pstStreamBuf</span><span class="p">,</span><span class="w"> </span><span class="n">AX_PAYLOAD_TYPE_E</span><span class="w"> </span><span class="n">enVideoType</span><span class="p">,</span>
<span class="w">                                         </span><span class="n">AX_VDEC_BITSTREAM_INFO_T</span><span class="w"> </span><span class="o">*</span><span class="n">pstBitStreamInfo</span><span class="p">);</span>

<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_VDEC_CreateGrp</span><span class="p">(</span><span class="n">AX_VDEC_GRP</span><span class="w"> </span><span class="n">VdGrp</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AX_VDEC_GRP_ATTR_T</span><span class="w"> </span><span class="o">*</span><span class="n">pstGrpAttr</span><span class="p">);</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_VDEC_CreateGrpEx</span><span class="p">(</span><span class="n">AX_VDEC_GRP</span><span class="w"> </span><span class="o">*</span><span class="n">VdGrp</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AX_VDEC_GRP_ATTR_T</span><span class="w"> </span><span class="o">*</span><span class="n">pstGrpAttr</span><span class="p">);</span>
<span class="n">AX_S32</span><span class="w"> </span><span class="nf">AXCL_VDEC_DestroyGrp</span><span class="p">(</span><span class="n">AX_VDEC_GRP</span><span class="w"> </span><span class="n">VdGrp</span><span class="p">);</span>

<span class="p">...</span>
</pre></div>
</div>
</li>
<li><p>请参阅AX SDK API的文档，例如：《AX SYS API 文档.docx》、《AX VDEC API 文档.docx》等。</p></li>
<li><p>动态库so命名由原来的libax_xxx.so 变更为libaxcl_xxx.so，对照表如下：</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>模块</p></th>
<th class="head"><p>AX SDK</p></th>
<th class="head"><p>AXCL NATIVE SDK</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SYS</p></td>
<td><p>libax_sys.so</p></td>
<td><p>libaxcl_sys.so</p></td>
</tr>
<tr class="row-odd"><td><p>VDEC</p></td>
<td><p>libax_vdec.so</p></td>
<td><p>libaxcl_vdec.so</p></td>
</tr>
<tr class="row-even"><td><p>VENC</p></td>
<td><p>libax_venc.so</p></td>
<td><p>libaxcl_venc.so</p></td>
</tr>
<tr class="row-odd"><td><p>IVPS</p></td>
<td><p>libax_ivps.so</p></td>
<td><p>libaxcl_ivps.so</p></td>
</tr>
<tr class="row-even"><td><p>DMADIM</p></td>
<td><p>libax_dmadim.so</p></td>
<td><p>libaxcl_dmadim.so</p></td>
</tr>
<tr class="row-odd"><td><p>ENGINE</p></td>
<td><p>libax_engine.so</p></td>
<td><p>libaxcl_engine.so</p></td>
</tr>
<tr class="row-even"><td><p>IVE</p></td>
<td><p>libax_ive.so</p></td>
<td><p>libaxcl_ive.so</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li><p>部分AX SDK API在AXCL NATIVE中没有支持，具体列表如下：</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>模块</p></th>
<th class="head"><p>AXCL NATIVE API</p></th>
<th class="head"><p>说明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SYS</p></td>
<td><p>AXCL_SYS_EnableTimestamp</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>AXCL_SYS_Sleep</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>AXCL_SYS_WakeLock</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>AXCL_SYS_WakeUnlock</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>AXCL_SYS_RegisterEventCb</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>AXCL_SYS_UnregisterEventCb</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>VENC</p></td>
<td><p>AXCL_VENC_GetFd</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>AXCL_VENC_JpegGetThumbnail</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>IVPS</p></td>
<td><p>AXCL_IVPS_GetChnFd</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>AXCL_IVPS_CloseAllFd</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>DMADIM</p></td>
<td><p>AXCL_DMADIM_Cfg</p></td>
<td><p>不支持设置回调函数，即AX_DMADIM_MSG_T.pfnCallBack</p></td>
</tr>
<tr class="row-odd"><td><p>IVE</p></td>
<td><p>AXCL_IVE_NPU_CreateMatMulHandle</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>AX_IVE_NPU_DestroyMatMulHandle</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>AX_IVE_NPU_MatMul</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
<section id="ppl">
<h2><span class="section-number">4.4. </span>PPL<a class="headerlink" href="#ppl" title="Link to this heading">#</a></h2>
<section id="architecture">
<h3><span class="section-number">4.4.1. </span>Architecture<a class="headerlink" href="#architecture" title="Link to this heading">#</a></h3>
<p><strong>libaxcl_ppl.so</strong> is a highly integrated module that implements typical pipeline (PPL). The architecture diagram is as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="p">|</span>-----------------------------<span class="p">|</span>
<span class="p">|</span><span class="w">        </span>application<span class="w">          </span><span class="p">|</span>
<span class="p">|</span>-----------------------------<span class="p">|</span>
<span class="p">|</span><span class="w">      </span>libaxcl_ppl.so<span class="w">         </span><span class="p">|</span>
<span class="p">|</span>-----------------------------<span class="p">|</span>
<span class="p">|</span><span class="w">      </span>libaxcl_lite.so<span class="w">        </span><span class="p">|</span>
<span class="p">|</span>-----------------------------<span class="p">|</span>
<span class="p">|</span><span class="w">         </span>axcl<span class="w"> </span>sdk<span class="w">            </span><span class="p">|</span>
<span class="p">|</span>-----------------------------<span class="p">|</span>
<span class="p">|</span><span class="w">         </span>pcie<span class="w"> </span>driver<span class="w">         </span><span class="p">|</span>
<span class="p">|</span>-----------------------------<span class="p">|</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">libaxcl_lite.so</span></code> and <code class="docutils literal notranslate"><span class="pre">libaxcl_ppl.so</span></code> are open-source libraries which located in <code class="docutils literal notranslate"><span class="pre">axcl/sample/axclit</span></code> and <code class="docutils literal notranslate"><span class="pre">axcl/sample/ppl</span></code> directories.</p>
</div>
<section id="supported-ppls">
<h4><span class="section-number">4.4.1.1. </span>Supported PPLs<a class="headerlink" href="#supported-ppls" title="Link to this heading">#</a></h4>
<section id="transcode">
<h5><span class="section-number">4.4.1.1.1. </span>transcode<a class="headerlink" href="#transcode" title="Link to this heading">#</a></h5>
<p><img alt="" src="_images/transcode_ppl.png" /></p>
<p>Refer to the source code of <strong>axcl_transcode_sample</strong>  which located in path: <code class="docutils literal notranslate"><span class="pre">axcl/sample/ppl/transode</span></code>.</p>
</section>
</section>
</section>
<section id="api">
<h3><span class="section-number">4.4.2. </span>API<a class="headerlink" href="#api" title="Link to this heading">#</a></h3>
<section id="axcl-ppl-init">
<h4><span class="section-number">4.4.2.1. </span>axcl_ppl_init<a class="headerlink" href="#axcl-ppl-init" title="Link to this heading">#</a></h4>
<p>axcl runtime system and ppl initialization.</p>
<section id="prototype">
<h5><span class="section-number">4.4.2.1.1. </span>prototype<a class="headerlink" href="#prototype" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_init(const axcl_ppl_init_param* param);</p>
</section>
<section id="parameter">
<h5><span class="section-number">4.4.2.1.2. </span>parameter<a class="headerlink" href="#parameter" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>param</p></td>
<td><p></p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AXCL_LITE_NONE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_LITE_VDEC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span>
<span class="w">    </span><span class="n">AXCL_LITE_VENC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span>
<span class="w">    </span><span class="n">AXCL_LITE_IVPS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">    </span><span class="n">AXCL_LITE_JDEC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span>
<span class="w">    </span><span class="n">AXCL_LITE_JENC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span>
<span class="w">    </span><span class="n">AXCL_LITE_DEFAULT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">AXCL_LITE_VDEC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AXCL_LITE_VENC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">AXCL_LITE_IVPS</span><span class="p">),</span>
<span class="w">    </span><span class="n">AXCL_LITE_MODULE_BUTT</span>
<span class="p">}</span><span class="w"> </span><span class="n">AXCLITE_MODULE_E</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">json</span><span class="p">;</span><span class="w"> </span><span class="cm">/* axcl.json path */</span>
<span class="w">    </span><span class="n">AX_S32</span><span class="w"> </span><span class="n">device</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">modules</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">max_vdec_grp</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">max_venc_thd</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_init_param</span><span class="p">;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>json</p></td>
<td><p>json file path pass to <strong>axclInit</strong> API.</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>device</p></td>
<td><p>device id</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>modules</p></td>
<td><p>bitmask of AXCLITE_MODULE_E according to PPL</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>max_vdec_grp</p></td>
<td><p>total VDEC groups of all processes</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>max_venc_thrd</p></td>
<td><p>max VENC threads of each process</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<div><p>[!IMPORTANT]</p>
<ul class="simple">
<li><p>AXCL_PPL_TRANSCODE:  modules = AXCL_LITE_DEFAULT</p></li>
<li><p><strong>max_vdec_grp</strong> should be equal to or greater than the total number of VDEC groups across all processes. For example, if 16 processes are launched, with each process having one decoder, <strong>max_vdec_grp</strong> should be set to at least 16.</p></li>
<li><p><strong>max_venc_thrd</strong> usually be configured as same as the total VENC channels of each process.</p></li>
</ul>
</div></blockquote>
</section>
<section id="return">
<h5><span class="section-number">4.4.2.1.3. </span>return<a class="headerlink" href="#return" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-deinit">
<h4><span class="section-number">4.4.2.2. </span>axcl_ppl_deinit<a class="headerlink" href="#axcl-ppl-deinit" title="Link to this heading">#</a></h4>
<p>axcl runtime system and ppl deinitialization.</p>
<section id="id3">
<h5><span class="section-number">4.4.2.2.1. </span>prototype<a class="headerlink" href="#id3" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_deinit();</p>
</section>
<section id="id4">
<h5><span class="section-number">4.4.2.2.2. </span>return<a class="headerlink" href="#id4" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-create">
<h4><span class="section-number">4.4.2.3. </span>axcl_ppl_create<a class="headerlink" href="#axcl-ppl-create" title="Link to this heading">#</a></h4>
<p>create ppl.</p>
<section id="id5">
<h5><span class="section-number">4.4.2.3.1. </span>prototype<a class="headerlink" href="#id5" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_create(axcl_ppl* ppl, const axcl_ppl_param* param);</p>
</section>
<section id="id6">
<h5><span class="section-number">4.4.2.3.2. </span>parameter<a class="headerlink" href="#id6" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>out</p></td>
</tr>
<tr class="row-odd"><td><p>param</p></td>
<td><p>parameters related to specified ppl</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AXCL_PPL_TRANSCODE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="cm">/* VDEC -&gt; IVPS -&gt;VENC */</span>
<span class="w">    </span><span class="n">AXCL_PPL_BUTT</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_type</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">axcl_ppl_type</span><span class="w"> </span><span class="n">ppl</span><span class="p">;</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">param</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_param</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>AXCL_PPL_TRANSCODE</strong> parameters as shown as follows:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="n">AX_VENC_STREAM_T</span><span class="w"> </span><span class="n">axcl_ppl_encoded_stream</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">axcl_ppl_encoded_stream_callback_func</span><span class="p">)(</span><span class="n">axcl_ppl</span><span class="w"> </span><span class="n">ppl</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">axcl_ppl_encoded_stream</span><span class="w"> </span><span class="o">*</span><span class="n">stream</span><span class="p">,</span><span class="w"> </span><span class="n">AX_U64</span><span class="w"> </span><span class="n">userdata</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">axcl_ppl_transcode_vdec_attr</span><span class="w"> </span><span class="n">vdec</span><span class="p">;</span>
<span class="w">    </span><span class="n">axcl_ppl_transcode_venc_attr</span><span class="w"> </span><span class="n">venc</span><span class="p">;</span>
<span class="w">    </span><span class="n">axcl_ppl_encoded_stream_callback_func</span><span class="w"> </span><span class="n">cb</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U64</span><span class="w"> </span><span class="n">userdata</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_transcode_param</span><span class="p">;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vdec</p></td>
<td><p>decoder attribute</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>venc</p></td>
<td><p>encoder attribute</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>cb</p></td>
<td><p>callback function to receive encoded nalu frame data</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>userdata bypass to  axcl_ppl_encoded_stream_callback_func</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Avoid high-latency processing inside the <em>axcl_ppl_encoded_stream_callback_func</em> function</p>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AX_PAYLOAD_TYPE_E</span><span class="w"> </span><span class="n">payload</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VDEC_OUTPUT_ORDER_E</span><span class="w"> </span><span class="n">output_order</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VDEC_DISPLAY_MODE_E</span><span class="w"> </span><span class="n">display_mode</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_transcode_vdec_attr</span><span class="p">;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>payload</p></td>
<td><p>PT_H264 | PT_H265</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>width</p></td>
<td><p>max. width of input stream</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>height</p></td>
<td><p>max. height of input stream</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>output_order</p></td>
<td><p>AX_VDEC_OUTPUT_ORDER_DISP  | AX_VDEC_OUTPUT_ORDER_DEC</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>display_mode</p></td>
<td><p>AX_VDEC_DISPLAY_MODE_PREVIEW | AX_VDEC_DISPLAY_MODE_PLAYBACK</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul class="simple">
<li><p><strong>output_order</strong>:</p>
<ul>
<li><p>If decode sequence is same as display sequence such as IP stream, recommend to AX_VDEC_OUTPUT_ORDER_DEC to save memory.</p></li>
<li><p>If decode sequence is different to display sequence such as IPB stream, set AX_VDEC_OUTPUT_ORDER_DISP.</p></li>
</ul>
</li>
<li><p><strong>display_mode</strong></p>
<ul>
<li><p>AX_VDEC_DISPLAY_MODE_PREVIEW:  preview mode which frame dropping is allowed typically for RTSP stream… etc.</p></li>
<li><p>AX_VDEC_DISPLAY_MODE_PLAYBACK: playback mode which frame dropping is not forbidden typically for local stream file.</p></li>
</ul>
</li>
</ul>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AX_PAYLOAD_TYPE_E</span><span class="w"> </span><span class="n">payload</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VENC_PROFILE_E</span><span class="w"> </span><span class="n">profile</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VENC_LEVEL_E</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VENC_TIER_E</span><span class="w"> </span><span class="n">tile</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VENC_RC_ATTR_T</span><span class="w"> </span><span class="n">rc</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_VENC_GOP_ATTR_T</span><span class="w"> </span><span class="n">gop</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_transcode_venc_attr</span><span class="p">;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>payload</p></td>
<td><p>PT_H264 | PT_H265</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>width</p></td>
<td><p>output width of encoded nalu frame</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>height</p></td>
<td><p>output height of encoded nalu frame</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>profile</p></td>
<td><p>h264 or h265 profile</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>level</p></td>
<td><p>h264 or h265 level</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>tile</p></td>
<td><p>tile</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>rc</p></td>
<td><p>rate control settings</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>gop</p></td>
<td><p>gop settings</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id7">
<h5><span class="section-number">4.4.2.3.3. </span>return<a class="headerlink" href="#id7" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-destroy">
<h4><span class="section-number">4.4.2.4. </span>axcl_ppl_destroy<a class="headerlink" href="#axcl-ppl-destroy" title="Link to this heading">#</a></h4>
<p>destroy ppl.</p>
<section id="id8">
<h5><span class="section-number">4.4.2.4.1. </span>prototype<a class="headerlink" href="#id8" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_destroy(axcl_ppl ppl)</p>
</section>
<section id="id9">
<h5><span class="section-number">4.4.2.4.2. </span>parameter<a class="headerlink" href="#id9" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id10">
<h4><span class="section-number">4.4.2.5. </span>return<a class="headerlink" href="#id10" title="Link to this heading">#</a></h4>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
<section id="axcl-ppl-start">
<h4><span class="section-number">4.4.2.6. </span>axcl_ppl_start<a class="headerlink" href="#axcl-ppl-start" title="Link to this heading">#</a></h4>
<p>start ppl.</p>
<section id="id11">
<h5><span class="section-number">4.4.2.6.1. </span>prototype<a class="headerlink" href="#id11" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_start(axcl_ppl ppl);</p>
</section>
<section id="id12">
<h5><span class="section-number">4.4.2.6.2. </span>parameter<a class="headerlink" href="#id12" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id13">
<h5><span class="section-number">4.4.2.6.3. </span>return<a class="headerlink" href="#id13" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-stop">
<h4><span class="section-number">4.4.2.7. </span>axcl_ppl_stop<a class="headerlink" href="#axcl-ppl-stop" title="Link to this heading">#</a></h4>
<p>stop ppl.</p>
<section id="id14">
<h5><span class="section-number">4.4.2.7.1. </span>prototype<a class="headerlink" href="#id14" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_stop(axcl_ppl ppl);</p>
</section>
<section id="id15">
<h5><span class="section-number">4.4.2.7.2. </span>parameter<a class="headerlink" href="#id15" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id16">
<h5><span class="section-number">4.4.2.7.3. </span>return<a class="headerlink" href="#id16" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-send-stream">
<h4><span class="section-number">4.4.2.8. </span>axcl_ppl_send_stream<a class="headerlink" href="#axcl-ppl-send-stream" title="Link to this heading">#</a></h4>
<p>send nalu frame to ppl.</p>
<section id="id17">
<h5><span class="section-number">4.4.2.8.1. </span>prototype<a class="headerlink" href="#id17" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_send_stream(axcl_ppl ppl, const axcl_ppl_input_stream* stream, AX_S32 timeout);</p>
</section>
<section id="id18">
<h5><span class="section-number">4.4.2.8.2. </span>parameter<a class="headerlink" href="#id18" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>stream</p></td>
<td><p>nalu frame</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>timeout</p></td>
<td><p>timeout in milliseconds</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AX_U8</span><span class="w"> </span><span class="o">*</span><span class="n">nalu</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U32</span><span class="w"> </span><span class="n">nalu_len</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U64</span><span class="w"> </span><span class="n">pts</span><span class="p">;</span>
<span class="w">    </span><span class="n">AX_U64</span><span class="w"> </span><span class="n">userdata</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">axcl_ppl_input_stream</span><span class="p">;</span>
</pre></div>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nalu</p></td>
<td><p>pointer to nalu frame data</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>nalu_len</p></td>
<td><p>bytes of nalu frame data</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>pts</p></td>
<td><p>timestamp of nalu frame</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>userdata bypass to <em><strong>axcl_ppl_encoded_stream.stPack.u64UserData</strong></em></p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id19">
<h5><span class="section-number">4.4.2.8.3. </span>return<a class="headerlink" href="#id19" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-get-attr">
<h4><span class="section-number">4.4.2.9. </span>axcl_ppl_get_attr<a class="headerlink" href="#axcl-ppl-get-attr" title="Link to this heading">#</a></h4>
<p>get attribute of ppl.</p>
<section id="id20">
<h5><span class="section-number">4.4.2.9.1. </span>prototype<a class="headerlink" href="#id20" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_get_attr(axcl_ppl ppl, const char* name, void* attr);</p>
</section>
<section id="id21">
<h5><span class="section-number">4.4.2.9.2. </span>parameter<a class="headerlink" href="#id21" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>attribute name</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>attr</p></td>
<td><p>attribute value</p></td>
<td><p>out</p></td>
</tr>
</tbody>
</table>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *            name                                     attr type        default</span>
<span class="cm"> *  axcl.ppl.id                             [R  ]       int32_t                            increment +1 for each axcl_ppl_create</span>
<span class="cm"> *</span>
<span class="cm"> *  axcl.ppl.transcode.vdec.grp             [R  ]       int32_t                            allocated by ax_vdec.ko</span>
<span class="cm"> *  axcl.ppl.transcode.ivps.grp             [R  ]       int32_t                            allocated by ax_ivps.ko</span>
<span class="cm"> *  axcl.ppl.transcode.venc.chn             [R  ]       int32_t                            allocated by ax_venc.ko</span>
<span class="cm"> *</span>
<span class="cm"> *  the following attributes take effect BEFORE the axcl_ppl_create function is called:</span>
<span class="cm"> *  axcl.ppl.transcode.vdec.blk.cnt         [R/W]       uint32_t          8                depend on stream DPB size and decode mode</span>
<span class="cm"> *  axcl.ppl.transcode.vdec.out.depth       [R/W]       uint32_t          4                out fifo depth</span>
<span class="cm"> *  axcl.ppl.transcode.ivps.in.depth        [R/W]       uint32_t          4                in fifo depth</span>
<span class="cm"> *  axcl.ppl.transcode.ivps.out.depth       [R  ]       uint32_t          0                out fifo depth</span>
<span class="cm"> *  axcl.ppl.transcode.ivps.blk.cnt         [R/W]       uint32_t          4</span>
<span class="cm"> *  axcl.ppl.transcode.ivps.engine          [R/W]       uint32_t   AX_IVPS_ENGINE_VPP      AX_IVPS_ENGINE_VPP|AX_IVPS_ENGINE_VGP|AX_IVPS_ENGINE_TDP</span>
<span class="cm"> *  axcl.ppl.transcode.venc.in.depth        [R/W]       uint32_t          4                in fifo depth</span>
<span class="cm"> *  axcl.ppl.transcode.venc.out.depth       [R/W]       uint32_t          4                out fifo depth</span>
<span class="cm"> */</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>axcl.ppl.transcode.vdec.blk.cnt</strong>:  blk count is related to the DBP size of input stream, recommend to set dbp + 1.</p>
</div>
</section>
<section id="id22">
<h5><span class="section-number">4.4.2.9.3. </span>return<a class="headerlink" href="#id22" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
<section id="axcl-ppl-set-attr">
<h4><span class="section-number">4.4.2.10. </span>axcl_ppl_set_attr<a class="headerlink" href="#axcl-ppl-set-attr" title="Link to this heading">#</a></h4>
<p>set attribute of ppl.</p>
<section id="id23">
<h5><span class="section-number">4.4.2.10.1. </span>prototype<a class="headerlink" href="#id23" title="Link to this heading">#</a></h5>
<p>axclError axcl_ppl_set_attr(axcl_ppl ppl, const char* name, const void* attr);</p>
</section>
<section id="id24">
<h5><span class="section-number">4.4.2.10.2. </span>parameter<a class="headerlink" href="#id24" title="Link to this heading">#</a></h5>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>parameter</p></th>
<th class="head"><p>description</p></th>
<th class="head"><p>in/out</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ppl</p></td>
<td><p>ppl handle created</p></td>
<td><p>in</p></td>
</tr>
<tr class="row-odd"><td><p>name</p></td>
<td><p>attribute name, refer to <em><strong>axcl_ppl_get_attr</strong></em></p></td>
<td><p>in</p></td>
</tr>
<tr class="row-even"><td><p>attr</p></td>
<td><p>attribute value</p></td>
<td><p>in</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id25">
<h5><span class="section-number">4.4.2.10.3. </span>return<a class="headerlink" href="#id25" title="Link to this heading">#</a></h5>
<p>0 (AXCL_SUCC)  if success, otherwise failure.</p>
</section>
</section>
</section>
</section>
<section id="id26">
<h2><span class="section-number">4.5. </span>错误代码<a class="headerlink" href="#id26" title="Link to this heading">#</a></h2>
<section id="id27">
<h3><span class="section-number">4.5.1. </span>定义<a class="headerlink" href="#id27" title="Link to this heading">#</a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">axclError</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AXCL_SUCC</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_FAIL</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_UNKNOWN</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="n">AXCL_FAIL</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_NULL_POINTER</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_ILLEGAL_PARAM</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mh">0x03</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_UNSUPPORT</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_TIMEOUT</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x05</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_BUSY</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mh">0x06</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_NO_MEMORY</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x07</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_ENCODE</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mh">0x08</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_DECODE</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mh">0x09</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_UNEXPECT_RESPONSE</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0A</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_OPEN</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0B</span><span class="p">,</span>
<span class="w">    </span><span class="n">AXCL_ERR_EXECUTE_FAIL</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0C</span><span class="p">,</span>

<span class="w">    </span><span class="n">AXCL_ERR_BUTT</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7F</span>
<span class="p">}</span><span class="w"> </span><span class="n">AXCL_ERROR_E</span><span class="p">;</span>

<span class="cp">#define AX_ID_AXCL           (0x30)</span>

<span class="cm">/* module */</span>
<span class="cp">#define AXCL_RUNTIME         (0x00)</span>
<span class="cp">#define AXCL_NATIVE          (0x01)</span>
<span class="cp">#define AXCL_LITE            (0x02)</span>

<span class="cm">/* runtime sub module */</span>
<span class="cp">#define AXCL_RUNTIME_DEVICE  (0x01)</span>
<span class="cp">#define AXCL_RUNTIME_CONTEXT (0x02)</span>
<span class="cp">#define AXCL_RUNTIME_STREAM  (0x03)</span>
<span class="cp">#define AXCL_RUNTIME_TASK    (0x04)</span>
<span class="cp">#define AXCL_RUNTIME_MEMORY  (0x05)</span>
<span class="cp">#define AXCL_RUNTIME_CONFIG  (0x06)</span>
<span class="cp">#define AXCL_RUNTIME_ENGINE  (0x07)</span>
<span class="cp">#define AXCL_RUNTIME_SYSTEM  (0x08)</span>

<span class="cm">/**</span>
<span class="cm"> * |---------------------------------------------------------|</span>
<span class="cm"> * | |   MODULE    |  AX_ID_AXCL | SUB_MODULE  |    ERR_ID   |</span>
<span class="cm"> * |1|--- 7bits ---|--- 8bits ---|--- 8bits ---|--- 8bits ---|</span>
<span class="cm"> **/</span>
<span class="cp">#define AXCL_DEF_ERR(module, sub, errid) \</span>
<span class="cp">    ((axclError)((0x80000000L) | (((module) &amp; 0x7F) &lt;&lt; 24) | ((AX_ID_AXCL) &lt;&lt; 16 ) | ((sub) &lt;&lt; 8) | (errid)))</span>

<span class="cp">#define AXCL_DEF_RUNTIME_ERR(sub, errid)    AXCL_DEF_ERR(AXCL_RUNTIME, (sub), (errid))</span>
<span class="cp">#define AXCL_DEF_NATIVE_ERR(sub,  errid)    AXCL_DEF_ERR(AXCL_NATIVE,  (sub), (errid))</span>
<span class="cp">#define AXCL_DEF_LITE_ERR(sub,    errid)    AXCL_DEF_ERR(AXCL_LITE,    (sub), (errid))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>错误代码分为AXCL运行时库和AX NATIVE SDK两种错误代码，通过<code class="docutils literal notranslate"><span class="pre">axclError</span></code>的第三字节区分。若第三个字节等于AX_ID_AXCL(0x30)，标识是AXCL运行时库的错误代码，反之则标识透传Device的AX NATIVE SDK模块的错误代码。</p>
<ul class="simple">
<li><p>AXCL运行时库错误代码：参阅 <code class="docutils literal notranslate"><span class="pre">axcl_rt_xxx.h</span></code>头文件。</p></li>
<li><p>Device的NATIVE SDK错误代码是透传到HOST侧，参阅《AX 软件错误码文档》。</p></li>
</ul>
</div>
</section>
<section id="id28">
<h3><span class="section-number">4.5.2. </span>解析<a class="headerlink" href="#id28" title="Link to this heading">#</a></h3>
<p>请访问 <a class="reference external" href="https://gakki2019.github.io/axcl/">AXCL错误代码解析</a> 在线解析错误代码。</p>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="doc_guide_hardware.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">3. </span>AXCL 硬件信息</p>
      </div>
    </a>
    <a class="right-next"
       href="doc_guide_setup.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5. </span>AXCL 安装</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.1. 概览</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#runtime-api">4.2. Runtime API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">4.2.1. Runtime API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclinit">4.2.1.1. <span class="xref myst">axclInit</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclfinailze">4.2.1.2. <span class="xref myst">axclFinailze</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetversion">4.2.1.3. <span class="xref myst">axclrtGetVersion</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetsocname">4.2.1.4. <span class="xref myst">axclrtGetSocName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtsetdevice">4.2.1.5. <span class="xref myst">axclrtSetDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtresetdevice">4.2.1.6. <span class="xref myst">axclrtResetDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdevice">4.2.1.7. <span class="xref myst">axclrtGetDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdevicecount">4.2.1.8. <span class="xref myst">axclrtGetDeviceCount</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdevicelist">4.2.1.9. <span class="xref myst">axclrtGetDeviceList</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtsynchronizedevice">4.2.1.10. <span class="xref myst">axclrtSynchronizeDevice</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetdeviceutilizationrate">4.2.1.11. <span class="xref myst">axclrtGetDeviceUtilizationRate</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtcreatecontext">4.2.1.12. <span class="xref myst">axclrtCreateContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtdestroycontext">4.2.1.13. <span class="xref myst">axclrtDestroyContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtsetcurrentcontext">4.2.1.14. <span class="xref myst">axclrtSetCurrentContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtgetcurrentcontext">4.2.1.15. <span class="xref myst">axclrtGetCurrentContext</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memory-api">4.2.2. Memory API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmalloc">4.2.2.1. <span class="xref myst">axclrtMalloc</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmalloccached">4.2.2.2. <span class="xref myst">axclrtMallocCached</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtfree">4.2.2.3. <span class="xref myst">axclrtFree</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemflush">4.2.2.4. <span class="xref myst">axclrtMemFlush</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmeminvalidate">4.2.2.5. <span class="xref myst">axclrtMemInvalidate</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmallochost">4.2.2.6. <span class="xref myst">axclrtMallocHost</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtfreehost">4.2.2.7. <span class="xref myst">axclrtFreeHost</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemset">4.2.2.8. <span class="xref myst">axclrtMemset</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemcpy">4.2.2.9. <span class="xref myst">axclrtMemcpy</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtmemcmp">4.2.2.10. <span class="xref myst">axclrtMemcmp</span></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#engine-api">4.2.3. Engine API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineinit">4.2.3.1. <span class="xref myst">axclrtEngineInit</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetvnpukind">4.2.3.2. <span class="xref myst">axclrtEngineGetVNpuKind</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginefinalize">4.2.3.3. <span class="xref myst">axclrtEngineFinalize</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineloadfromfile">4.2.3.4. <span class="xref myst">axclrtEngineLoadFromFile</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineloadfrommem">4.2.3.5. <span class="xref myst">axclrtEngineLoadFromMem</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineunload">4.2.3.6. <span class="xref myst">axclrtEngineUnload</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodelcompilerversion">4.2.3.7. <span class="xref myst">axclrtEngineGetModelCompilerVersion</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetaffinity">4.2.3.8. <span class="xref myst">axclrtEngineSetAffinity</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetaffinity">4.2.3.9. <span class="xref myst">axclrtEngineGetAffinity</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetusage">4.2.3.10. <span class="xref myst">axclrtEngineGetUsage</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetusagefrommem">4.2.3.11. <span class="xref myst">axclrtEngineGetUsageFromMem</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetusagefrommodelid">4.2.3.12. <span class="xref myst">axclrtEngineGetUsageFromModelId</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodeltype">4.2.3.13. <span class="xref myst">axclrtEngineGetModelType</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodeltypefrommem">4.2.3.14. <span class="xref myst">axclrtEngineGetModelTypeFromMem</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetmodeltypefrommodelid">4.2.3.15. <span class="xref myst">axclrtEngineGetModelTypeFromModelId</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetioinfo">4.2.3.16. <span class="xref myst">axclrtEngineGetIOInfo</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginedestroyioinfo">4.2.3.17. <span class="xref myst">axclrtEngineDestroyIOInfo</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetshapegroupscount">4.2.3.18. <span class="xref myst">axclrtEngineGetShapeGroupsCount</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetnuminputs">4.2.3.19. <span class="xref myst">axclrtEngineGetNumInputs</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetnumoutputs">4.2.3.20. <span class="xref myst">axclrtEngineGetNumOutputs</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputsizebyindex">4.2.3.21. <span class="xref myst">axclrtEngineGetInputSizeByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputsizebyindex">4.2.3.22. <span class="xref myst">axclrtEngineGetOutputSizeByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputnamebyindex">4.2.3.23. <span class="xref myst">axclrtEngineGetInputNameByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputnamebyindex">4.2.3.24. <span class="xref myst">axclrtEngineGetOutputNameByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputindexbyname">4.2.3.25. <span class="xref myst">axclrtEngineGetInputIndexByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputindexbyname">4.2.3.26. <span class="xref myst">axclrtEngineGetOutputIndexByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputdims">4.2.3.27. <span class="xref myst">axclrtEngineGetInputDims</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputdims">4.2.3.28. <span class="xref myst">axclrtEngineGetOutputDims</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginecreateio">4.2.3.29. <span class="xref myst">axclrtEngineCreateIO</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginedestroyio">4.2.3.30. <span class="xref myst">axclrtEngineDestroyIO</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetinputbufferbyindex">4.2.3.31. <span class="xref myst">axclrtEngineSetInputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetoutputbufferbyindex">4.2.3.32. <span class="xref myst">axclrtEngineSetOutputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetinputbufferbyname">4.2.3.33. <span class="xref myst">axclrtEngineSetInputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetoutputbufferbyname">4.2.3.34. <span class="xref myst">axclrtEngineSetOutputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputbufferbyindex">4.2.3.35. <span class="xref myst">axclrtEngineGetInputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputbufferbyindex">4.2.3.36. <span class="xref myst">axclrtEngineGetOutputBufferByIndex</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetinputbufferbyname">4.2.3.37. <span class="xref myst">axclrtEngineGetInputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginegetoutputbufferbyname">4.2.3.38. <span class="xref myst">axclrtEngineGetOutputBufferByName</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginesetdynamicbatchsize">4.2.3.39. <span class="xref myst">axclrtEngineSetDynamicBatchSize</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtenginecreatecontext">4.2.3.40. <span class="xref myst">axclrtEngineCreateContext</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineexecute">4.2.3.41. <span class="xref myst">axclrtEngineExecute</span></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axclrtengineexecuteasync">4.2.3.42. <span class="xref myst">axclrtEngineExecuteAsync</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#native-api">4.3. Native API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ppl">4.4. PPL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#architecture">4.4.1. Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#supported-ppls">4.4.1.1. Supported PPLs</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#transcode">4.4.1.1.1. transcode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#api">4.4.2. API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-init">4.4.2.1. axcl_ppl_init</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#prototype">4.4.2.1.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#parameter">4.4.2.1.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#return">4.4.2.1.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-deinit">4.4.2.2. axcl_ppl_deinit</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">4.4.2.2.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">4.4.2.2.2. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-create">4.4.2.3. axcl_ppl_create</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">4.4.2.3.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">4.4.2.3.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">4.4.2.3.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-destroy">4.4.2.4. axcl_ppl_destroy</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">4.4.2.4.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">4.4.2.4.2. parameter</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">4.4.2.5. return</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-start">4.4.2.6. axcl_ppl_start</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">4.4.2.6.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">4.4.2.6.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">4.4.2.6.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-stop">4.4.2.7. axcl_ppl_stop</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">4.4.2.7.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">4.4.2.7.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">4.4.2.7.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-send-stream">4.4.2.8. axcl_ppl_send_stream</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">4.4.2.8.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">4.4.2.8.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">4.4.2.8.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-get-attr">4.4.2.9. axcl_ppl_get_attr</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">4.4.2.9.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">4.4.2.9.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">4.4.2.9.3. return</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#axcl-ppl-set-attr">4.4.2.10. axcl_ppl_set_attr</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">4.4.2.10.1. prototype</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">4.4.2.10.2. parameter</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">4.4.2.10.3. return</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">4.5. 错误代码</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">4.5.1. 定义</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">4.5.2. 解析</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By kalcohol
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, AXERA Semiconductor Co., Ltd..
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>